name: Instant Check

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  instant-check:
    runs-on: macos-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Environment Check
      run: |
        echo "✅ Checkout 성공"
        echo "OS: $(uname -a)"
        echo "디렉토리: $(pwd)"
        echo "파일 목록:"
        ls -la | head -10

    - name: Python Check
      run: |
        echo "✅ Python 체크 시작"
        which python3
        python3 --version
        echo "✅ Python 정상"

    - name: File Check
      run: |
        echo "✅ 파일 체크 시작"
        echo "gui_perfect.py: $([ -f gui_perfect.py ] && echo '존재' || echo '없음')"
        echo ".env: $([ -f .env ] && echo '존재' || echo '없음')"
        echo "src/: $([ -d src ] && echo '존재' || echo '없음')"
        echo "✅ 파일 체크 완료"

    - name: Success Indicator
      run: |
        echo "🎉 모든 기본 체크 성공!"
        echo "현재 시간: $(date)"
        echo "이 메시지가 보이면 GitHub Actions 기본 환경은 정상입니다."

    - name: Create Result File
      run: |
        echo "GitHub Actions 기본 환경 테스트 성공" > success.txt
        echo "시간: $(date)" >> success.txt
        echo "OS: $(uname -a)" >> success.txt

    - name: Upload Success File
      uses: actions/upload-artifact@v4
      with:
        name: success-indicator
        path: success.txt