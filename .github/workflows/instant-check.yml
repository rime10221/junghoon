name: Instant Check

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  instant-check:
    runs-on: macos-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Environment Check
      run: |
        echo "âœ… Checkout ì„±ê³µ"
        echo "OS: $(uname -a)"
        echo "ë””ë ‰í† ë¦¬: $(pwd)"
        echo "íŒŒì¼ ëª©ë¡:"
        ls -la | head -10

    - name: Python Check
      run: |
        echo "âœ… Python ì²´í¬ ì‹œìž‘"
        which python3
        python3 --version
        echo "âœ… Python ì •ìƒ"

    - name: File Check
      run: |
        echo "âœ… íŒŒì¼ ì²´í¬ ì‹œìž‘"
        echo "gui_perfect.py: $([ -f gui_perfect.py ] && echo 'ì¡´ìž¬' || echo 'ì—†ìŒ')"
        echo ".env: $([ -f .env ] && echo 'ì¡´ìž¬' || echo 'ì—†ìŒ')"
        echo "src/: $([ -d src ] && echo 'ì¡´ìž¬' || echo 'ì—†ìŒ')"
        echo "âœ… íŒŒì¼ ì²´í¬ ì™„ë£Œ"

    - name: Success Indicator
      run: |
        echo "ðŸŽ‰ ëª¨ë“  ê¸°ë³¸ ì²´í¬ ì„±ê³µ!"
        echo "í˜„ìž¬ ì‹œê°„: $(date)"
        echo "ì´ ë©”ì‹œì§€ê°€ ë³´ì´ë©´ GitHub Actions ê¸°ë³¸ í™˜ê²½ì€ ì •ìƒìž…ë‹ˆë‹¤."

    - name: Create Result File
      run: |
        echo "GitHub Actions ê¸°ë³¸ í™˜ê²½ í…ŒìŠ¤íŠ¸ ì„±ê³µ" > success.txt
        echo "ì‹œê°„: $(date)" >> success.txt
        echo "OS: $(uname -a)" >> success.txt

    - name: Upload Success File
      uses: actions/upload-artifact@v4
      with:
        name: success-indicator
        path: success.txt